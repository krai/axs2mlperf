{
    "_parent_entries": [ [ "^", "byname", "python_script" ], [ "^", "byname", "entry_creator" ] ],

    "_producer_rules": [
        [ [ "package_wheel", "package_name=mlperf_loadgen" ], [["get", "pipeline"]] ],

        [ [ "python_package", "package_name=mlperf_loadgen", "desired_python_version." ], [ ["get_kernel"], ["byname", "pip" ], ["install"]], {
            "installable": [ "AS^IS", "^^", "execute", [[
                    [ "get_kernel" ],
					[ "byquery", [ "^^", "substitute", "package_wheel,package_name=mlperf_loadgen,desired_python_version===#{desired_python_version}#" ] ],
					[ "find_file", "mlperf_loadgen.*\\.whl", {"return_full": true, "abs_paths": true } ]
				 ]] ]
				}
        ]
    ],

    "python_major_dot_minor": [ "^^", "dig", "python_tool_entry.major_dot_minor" ],

    "python_deps": [
        [ "^^", "python_sync_pip_package", [[ "python_package", "package_name=wheel" ]] ],
        [ "^^", "python_sync_pip_package", [[ "python_package", "package_name=pybind11" ]] ]
    ],
    "newborn_parent_names": [ ],
    "newborn_entry_param_mapping": {
        "package_name": "mlperf_loadgen",
        "python_major_dot_minor": [ "^^", "substitute", "#{python_major_dot_minor}#" ],
        "desired_python_version": [ "^^", "substitute", "#{python_major_dot_minor}#" ]
    },
    "newborn_name_template": "loadgen_package_wheel_for_python#{python_major_dot_minor}#",
    "newborn_entry_tags": [ "package_wheel" ],
    "pipeline": [ "^^", "execute", [[                                                                                                                                                                    [ "run" ],
        [ ],
        [ "get", "stored_newborn_entry" ]
    ]] ],

    "compiler_path": [ "^", "execute", [[
        [ "byquery", "shell_tool,can_compile_c" ],
        [ "get", "tool_path" ]
    ]] ],

    "extra_env": {
        "CC": [ "^^", "get", "compiler_path" ],
        "CFLAGS": "-std=c++14"
    },
    "env": [ "^^", "ext_use_python_deps" ],

    "in_dir": [ "^", "execute", [[
        [ "byquery", "git_repo,repo_name=mlperf_inference_git" ],
        [ "get_path", "loadgen" ]
    ]] ],
    "abs_script_path": "setup.py",
    "script_extra_params": [ "^^", "substitute", "egg_info --egg-base #{newborn_entry_path}# bdist_wheel -d #{newborn_entry_path}#" ]

}
