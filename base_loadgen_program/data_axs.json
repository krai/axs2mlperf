{
    "loadgen_scenario": "SingleStream",
    "loadgen_mode": "AccuracyOnly",
    "loadgen_dataset_size": 20,
    "loadgen_buffer_size": 8,
    "loadgen_count_override": null,
    "loadgen_count_override_min": ["^^", "get", "loadgen_count_override"],
    "loadgen_count_override_max": ["^^", "get", "loadgen_count_override"],

    "loadgen_multistreamness": null,
    "loadgen_target_latency": null,
    "loadgen_target_qps": null,
    "loadgen_min_duration_s": null,
    "loadgen_max_duration_s": null,
    "loadgen_compliance_test": null,

    "_with_power": false,

    "compliance_test_config": "audit.config",

    "sut_name": ["^", "func", "socket.gethostname" ],

    "mlperf_inference_git_entry": [ "^", "byquery", "git_repo,repo_name=mlperf_inference_git" ],

    "loadgen_mlperf_conf_path": [ "^^", "execute", [[
        [ "get", "mlperf_inference_git_entry" ],
        [ "get_path_of", "mlperf_conf_file" ]
    ]] ],

    "submission_compliance_tests_dir": [ "^^", "execute", [[
        [ "get", "mlperf_inference_git_entry" ],
        [ "get_path_of", "submission_compliance_tests_dir" ]
     ]] ],

    "output_entry_parents": [ ],
    "output_entry_tags": [ ],
    "output_entry_param_names": [ ],
    "output_entry_subs_listmap": [ ],

    "output_entry": [ "^^", "execute", [[
        [ "get", "__record_entry__" ],
        [ "attach", [ "^", "work_collection" ] ],
        [ "plant", [
                "_parent_entries", ["^^", "get", "output_entry_parents" ],
                "with_power", [ "^^", "get", "_with_power" ],
                "tags", ["^^", "get", "output_entry_tags" ]
            ] ],
        [ "plant", [ "^^", "slice", ["^^", "get", "output_entry_param_names" ], { "plantable": true } ] ],
        [ "plant", [ "^^", "substitute", [[ "^^", "get", "output_entry_subs_listmap" ]] ] ],
        [ "pluck", "_with_power" ],
        [ "save" ]
    ]] ],

    "pipeline": [ "^^", "execute", [[
        [ "run" ],
        [],
        [ "get", "output_entry" ]
    ]] ],

    "output_dir": [ "^^", "execute", [[
        [ "get", "output_entry" ],
        [ "get_path" ]
    ]] ],
    "target_user_conf_path":  [ "^^", "func", [ "os.path.join", [ "^^", "get", "output_dir" ], "user.conf" ] ],
    "target_audit_conf_path": [ "^^", "func", [ "os.path.join", [ "^^", "get", "output_dir" ], "audit.config" ] ],
    "in_dir": [ "^^", "get", "output_dir" ],
    "errorize_output": true,

    "program_name": [ "^^", "get_name" ],

    "input_parameters_file_path": [ "^^", "execute", [[
        [ "get", "output_entry" ],
        [ "plant", [ "loadgen_user_conf_path",[ "^^", "get", "loadgen_user_conf_path" ] ]],
        [ "save", [], { "deterministic": false } ],
        [ "get_path", "data_axs.json" ]
    ]] ],

    "loadgen_user_conf_path": [ "^^", "generate_user_conf", [
        [ "^^", "slice", [ "loadgen_buffer_size", "loadgen_multistreamness","loadgen_count_override_min","loadgen_count_override_max", "loadgen_target_latency", "loadgen_target_qps" , "loadgen_min_duration_s", "loadgen_max_duration_s" ] ]
    ]],
    "model_name_compliance_dict": { "retinanet_openimages": "retinanet", "bert_large": "bert", "bert_99_9": "bert", "bert_99": "bert"},

    "symlink_to": null,
    "postprocess_on_success": [ "^^", "link_to_power_client_entry" ],
    "get_and_return_on_success": [ "^^", "case",[ [ "^^", "get", "symlink_to" ], [null, ""], null ], { "default_value": "postprocess_on_success" } ]
}
