{
	"_parent_entries": [
		[ "^", "byname", "shell" ]
	],
	"_producer_rules": [
		[ [ "container_loadgen_output" ], ["run"], {
		} ]
	],
	"user": [ "^^", "get_user_name" ],
	"model_name_container":  [ "^^", "get_model_name_container" ],
	"container_name": [ "^^", "substitute", "#{user}#_#{model_name_container}#" ],
	"container_local_dir": "/home/krai/work_collection/",
	
	"local_dir": [ "^^", "substitute", "/local/mnt/workspace/#{user}#/work_collection/" ],
	"local_experiment_dir_name": "experiments",

	"container_id": [ "^^", "substitute", "`docker run -dt --name #{container_name}# --ipc=host --net=host --privileged --group-add $(getent group qaic | cut -d: -f3) #{mounted_repos_str}# --rm #{image_name}#:#{image_tag}# bash`" ],

	"repo_list": [ "axs2qaic-dev", "axs2sut-dev", "axs2kilt-dev", "axs2cpu-dev", "axs2system-dev", "axs2mlperf", "kilt-mlperf-dev_main" ],
	"mounted_repos_str": ["^^", "create_mounted_string" ],
	
	"docker_os":  "deb",
	"image_tag": [ "^^", "substitute", "#{docker_os}#_#{sdk_ver}#" ],
	"image_name": ["^^", "get_image_name" ],

	"container_only": false,
	
	"cmd": [ "^^", "case",   [ [ "^^", "get", "container_only" ],
	    true, [ "^^","substitute", "export CONTAINER_ID=#{container_id}# ; echo \" Container has been created. CONTAINER_ID =  ${CONTAINER_ID} \"" ]] ,
	    { "default_value": [ "^^","substitute", " docker exec #{container_id}# bash -c  \"axs byquery #{modified_query}#\""] }
	],
	
	"modified_query": [ "^^", "execute", [[
		[ "get", "__query" ],
		[ "replace", ["container_loadgen_output", "loadgen_output"] ]
	]] ],
	"shell_cmd_with_subs": "#{cmd}#"
}
